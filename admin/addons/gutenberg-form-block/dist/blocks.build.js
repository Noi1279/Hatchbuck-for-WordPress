!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(1)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(2),l=(n.n(s),n(3)),a=(n.n(l),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),i=wp.i18n.__,u=wp.blocks.registerBlockType,f=wp.components.SelectControl,h=wp.element.Component,p=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state=e.constructor.getInitialState(e.props.attributes.selectedhb_form),e.getOptions=e.getOptions.bind(e),e.getOptions(),e.onChangeSelecthb_form=e.onChangeSelecthb_form.bind(e),e}return c(t,e),a(t,null,[{key:"getInitialState",value:function(e){return{hb_forms:hatchbuck_forms,selectedhb_form:e,hb_form:{}}}}]),a(t,[{key:"getOptions",value:function(){var e=this;return function(t){if(t&&0!==e.state.selectedhb_form){var n=t.find(function(t){return t.id==e.state.selectedhb_form});e.setState({hb_form:n,hb_forms:t})}else e.setState({hb_form:hb_form})}}},{key:"onChangeSelecthb_form",value:function(e){var t=this.state.hb_forms.find(function(t){return t.id==parseInt(e)});this.setState({selectedhb_form:parseInt(e),hb_form:t}),this.props.setAttributes({selectedhb_form:parseInt(e),title:t.title,content:t.content,short_code:t.short_code})}},{key:"render",value:function(){var e=[{value:0,label:i("Select a hatchbuck form")}],t=i("Loading hatchbuck forms");if(this.state.hb_forms.length>0){t=i("We have %d hatchbuck forms. Choose one.").replace("%d",this.state.hb_forms.length),this.state.hb_forms.forEach(function(t){e.push({value:t.id,label:t.title})})}else t=i("No hatchbuck forms found. Please create some first.");return t=this.state.hb_form.hasOwnProperty("title")?wp.element.createElement("div",null,wp.element.createElement("p",{dangerouslySetInnerHTML:{__html:this.state.hb_form.short_code}})):wp.element.createElement("div",null," "),[!!this.props.isSelected&&wp.element.createElement(f,{onChange:this.onChangeSelecthb_form,value:this.props.attributes.selectedhb_form,label:i("Select a hatchbuck form"),options:e}),wp.element.createElement("div",null,t)]}}]),t}(h);u("cgb/block-guten-load-post",{title:i("hatchbuck forms"),icon:"shield",category:"common",keywords:[i("load"),i("Load hatchbuck form"),i("hatchbuck forms")],attributes:{content:{type:"array",source:"children",selector:"p"},title:{type:"string",selector:"h2"},short_code:{type:"string",selector:"p"},selectedhb_form:{type:"number",default:0}},edit:p,save:function(e){return wp.element.createElement("p",null," Sample ")}})},function(e,t){},function(e,t){}]);
